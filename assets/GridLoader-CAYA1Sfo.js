import{r as i,W as P,c as _,j as t,y as N,L as T}from"./index-D4d8DnsJ.js";import{c as z,p as W,a as E}from"./animation-RB9YhObT.js";function F({product:e}){var o,c;let{addToWishList:n,getWishList:s,removeFromWishList:r,wishListId:a}=i.useContext(P),{setCartDetails:x,checked:f,cartDetails:u,updateCountToCart:v,setChecked:j,getCart:h,addToCart:w}=i.useContext(_);const y=a==null?void 0:a.includes(e.id),k=f==null?void 0:f.includes(e.id);async function p(){if(y){let l=await r(e.id);l.status=="success"&&N.success(l.message,{position:"bottom-right",autoClose:3e3,draggable:!0,theme:"colored"})}else{let l=await n(e.id);l.status=="success"&&N.success(l.message,{position:"bottom-right",autoClose:3e3,draggable:!0,theme:"colored"})}s()}async function O(){var l,L;if(!k){let m=await w(e.id);m.status==="success"&&(x(m),j((L=(l=m==null?void 0:m.data)==null?void 0:l.products)==null?void 0:L.map(M=>M.product.id)),await h(),N.success(m.message,{position:"bottom-right",autoClose:3e3,draggable:!0,theme:"colored"}))}}const b=(c=(o=u==null?void 0:u.data)==null?void 0:o.products)==null?void 0:c.find(l=>l.product.id===e.id),g=b?b.count:0;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-around mb-2",children:[t.jsxs("p",{children:[e.price," eg"]}),t.jsxs("p",{children:[t.jsx("i",{className:"fa fa-star text-yellow-300"}),e.ratingsAverage]}),t.jsx("i",{onClick:p,className:`fa-heart ${y?"fa-solid text-red-700":"fa-regular"}`})]}),k&&g>0?t.jsxs("div",{className:"flex items-center justify-center ",children:[t.jsxs("button",{onClick:()=>v(e.id,g-1),className:"inline-flex items-center justify-center p-1 me-3 text-sm font-medium h-6 w-6 text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button",children:[t.jsx("span",{className:"sr-only",children:"Quantity button"}),t.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2",children:t.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 1h16"})})]}),t.jsx("div",{children:t.jsx("span",{className:"bg-gray-50  border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 w-[100px] text-center",children:g})}),t.jsxs("button",{onClick:()=>v(e.id,g+1),className:"inline-flex items-center justify-center h-6 w-6 p-1 ms-3 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button",children:[t.jsx("span",{className:"sr-only",children:"Quantity button"}),t.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:t.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 1v16M1 9h16"})})]})]}):t.jsx("button",{onClick:O,className:"btn bg-main p-2 rounded-lg text-white w-full",children:"add to cart"})]})}function U({product:e}){var s;let{addToCart:n}=i.useContext(_);return t.jsxs("div",{className:"product sm:w-6/12  md:w-4/12 lg:w-2/12 w-[80%] m-auto p-2 hover:bg-slate-100 duration-[1s]",children:[t.jsxs(T,{to:`/productDetails/${e.id}/${(s=e==null?void 0:e.category)==null?void 0:s._id}`,children:[t.jsx("img",{src:e.imageCover,className:"w-full py-2",alt:""}),t.jsx("h2",{children:e.title.split(" ").splice(0,2).join(" ")})]}),t.jsx(F,{product:e,addToCart:n})]})}var C=function(){return C=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(this,arguments)},S=function(e,n){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s},A=z("GridLoader","0% {transform: scale(1)} 50% {transform: scale(0.5); opacity: 0.7} 100% {transform: scale(1); opacity: 1}","grid"),d=function(e){return Math.random()*e};function $(e){var n=e.loading,s=n===void 0?!0:n,r=e.color,a=r===void 0?"#000000":r,x=e.speedMultiplier,f=x===void 0?1:x,u=e.cssOverride,v=u===void 0?{}:u,j=e.size,h=j===void 0?15:j,w=e.margin,y=w===void 0?2:w,k=S(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),p=W(h),O=W(y),b=parseFloat(p.value.toString())*3+parseFloat(O.value.toString())*6,g=C({width:"".concat(b).concat(p.unit),fontSize:0,display:"inline-block"},v),o=function(c){return{display:"inline-block",backgroundColor:a,width:"".concat(E(h)),height:"".concat(E(h)),margin:E(y),borderRadius:"100%",animationFillMode:"both",animation:"".concat(A," ").concat((c/100+.6)/f,"s ").concat(c/100-.2,"s infinite ease")}};return s?i.createElement("span",C({style:g},k,{ref:function(c){c&&c.style.setProperty("width","".concat(b).concat(p.unit),"important")}}),i.createElement("span",{style:o(d(100))}),i.createElement("span",{style:o(d(100))}),i.createElement("span",{style:o(d(100))}),i.createElement("span",{style:o(d(100))}),i.createElement("span",{style:o(d(100))}),i.createElement("span",{style:o(d(100))}),i.createElement("span",{style:o(d(100))}),i.createElement("span",{style:o(d(100))}),i.createElement("span",{style:o(d(100))})):null}export{F as B,$ as G,U as P};
