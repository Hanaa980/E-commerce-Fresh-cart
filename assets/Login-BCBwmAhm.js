import{r as t,u as x,t as p,j as e,H as b,L as h,a as f}from"./index-DKh-QKsi.js";import{c as w,a as l,u as k}from"./index.esm-DSMLnYuF.js";import{C as j}from"./ClipLoader-DLxUU1sf.js";function C(){const[o,n]=t.useState(null),[i,s]=t.useState(!1);let d=x(),{setToken:m}=t.useContext(p);const u={email:"",password:""},c=w().shape({email:l().email("invalid email").required("required"),password:l().matches(new RegExp("^[A-Za-z0-9]{6,15}$"),"password must be strong between 6 and 15 chart").required("required")}),r=k({initialValues:u,validationSchema:c,onSubmit:async g=>{n(null),s(!0);try{let{data:a}=await f.post("https://ecommerce.routemisr.com/api/v1/auth/signin",g);localStorage.setItem("u-token",a.token),m(a.token),d("/"),s(!1)}catch(a){n(a.response.data.message),s(!1)}}});return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx("title",{children:"Login "})}),e.jsxs("form",{onSubmit:r.handleSubmit,className:"w-8/12 m-auto mb-5 mt-[150px]  border-1 p-5 rounded-lg shadow-lg shadow-gray-700/50 bg-gray-100",children:[e.jsx("h1",{className:"mb-5 ",children:"Sign in "}),o?e.jsx("div",{className:"p-4 mb-4 text-sm text-red-900 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:o}):" ",e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"emailInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),e.jsx("input",{type:"email",id:"emailInput",name:"email",value:r.values.email,onBlur:r.handleBlur,onChange:r.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),r.errors.email&&r.touched.email?e.jsx("div",{className:"p-4 mb-4 text-sm text-red-900 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:r.errors.email}):" "]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"passwordInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your password"}),e.jsx("input",{type:"password",id:"passwordInput",name:"password",value:r.values.password,onBlur:r.handleBlur,onChange:r.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),r.errors.password&&r.touched.password?e.jsx("div",{className:"p-4 mb-4 text-sm text-red-900 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:r.errors.password}):" "]}),e.jsx(h,{to:"/forgetPassword",children:"forget password?"}),e.jsx("button",{type:"submit",className:"text-white bg-main hover:bg-main focus:ring-4 focus:outline-none focus:ring-main font-medium rounded-lg text-sm block ms-auto  px-5 py-2.5 text-center dark:bg-main dark:hover:bg-main dark:focus:ring-main",children:i?e.jsx(j,{size:20,color:"#ffffff"}):"Login"})]})]})}export{C as default};
