import{u as g,r as t,j as a,a as x}from"./index-4N9hYKY1.js";import{c as b,a as l,u as h}from"./index.esm-B9tUoxSg.js";import{C as w}from"./ClipLoader-BB1ghIzp.js";function P(){let d=g();const[o,n]=t.useState(null),[i,s]=t.useState(!1);t.useEffect(()=>{},[]);const m={email:"",newPassword:""},u=b().shape({email:l().email("invalid email").required("required"),newPassword:l().matches(new RegExp("^[A-Za-z0-9]{6,15}$"),"newPassword must be strong between 6 and 15 chart").required("required")}),e=h({initialValues:m,validationSchema:u,onSubmit:async c=>{n(null),s(!0);try{let{data:r}=await x.put("https://ecommerce.routemisr.com/api/v1/auth/resetPassword",c);localStorage.setItem("u-token",r.token),setToken(r.token),d("/"),s(!1)}catch(r){n(r.response.data.message),s(!1)}}});return a.jsxs("form",{onSubmit:e.handleSubmit,className:"w-6/12 m-auto mb-5",children:[a.jsx("h1",{className:"mb-5 ",children:"Reset New Password"}),o?a.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:o}):" ",a.jsxs("div",{className:"mb-5",children:[a.jsx("label",{htmlFor:"emailInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),a.jsx("input",{type:"email",id:"emailInput",name:"email",value:e.values.email,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.email&&e.touched.email?a.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.email}):" "]}),a.jsxs("div",{className:"mb-5",children:[a.jsx("label",{htmlFor:"newPasswordInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your newPassword"}),a.jsx("input",{type:"password",id:"newPasswordInput",name:"newPassword",value:e.values.newPassword,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.newPassword&&e.touched.newPassword?a.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.newPassword}):" "]}),a.jsxs("button",{type:"submit",className:"text-white bg-main hover:bg-main focus:ring-4 focus:outline-none focus:ring-main font-medium rounded-lg text-sm block ms-auto  px-5 py-2.5 text-center dark:bg-main dark:hover:bg-main dark:focus:ring-main",children:[i?a.jsx(w,{size:20,color:"#ffffff"}):"reset"," "]})]})}export{P as default};
