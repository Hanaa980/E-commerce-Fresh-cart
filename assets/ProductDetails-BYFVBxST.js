import{b as x,r,j as e,a as f,c as p}from"./index-x4Z8w8N4.js";import{P as h,G as j,B as g}from"./GridLoader-BqTYOYnP.js";import{S as y}from"./index-BFA6peCQ.js";import"./animation-RB9YhObT.js";function m(l,a,c){return l.filter(s=>s.category._id==a&&s._id!==c)}function w({product:l}){let{id:a,categoryId:c}=x();const[s,i]=r.useState([]),[o,d]=r.useState([]);function n(){f.get("https://ecommerce.routemisr.com/api/v1/products").then(({data:t})=>{d(t.data);let u=m(t.data,c,a);i(u)}).catch(t=>{})}return r.useEffect(()=>{n()},[]),r.useEffect(()=>{let t=m(o,c,a);i(t)},[a]),e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl",children:"RelatedProducts "}),e.jsx("div",{className:"flex flex-wrap my-10",children:s.map(t=>e.jsx(h,{product:t},t.id))})]})}function D(){let{addToCart:l}=r.useContext(p);const[a,c]=r.useState(!0),[s,i]=r.useState({});let{id:o}=x(),d={dots:!0,infinite:!0,autoplay:!0,draggable:!0,autoplaySpeed:1e3,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1};function n(){f.get(`https://ecommerce.routemisr.com/api/v1/products/${o}`).then(({data:t})=>{i(t.data),c(!1)}).catch(t=>{c(!1)})}return r.useEffect(()=>{n()},[o]),e.jsx(e.Fragment,{children:a?e.jsx("div",{className:" flex w-fullh-lvh items-center justify-center",children:e.jsx(j,{color:"#0aad0a",size:50})}):e.jsxs(e.Fragment,{children:[" ",e.jsxs("div",{className:"w-11/12 m-auto sm:flex-row flex-col  flex  gap-y-5 justify-center my-10 items-center",children:[e.jsx("div",{className:" w-full p-2 sm:w-4/12 ",children:e.jsx(y,{...d,children:s.images.map((t,u)=>e.jsx("img",{src:t},u))})}),e.jsxs("div",{className:"w-full flex  flex-col sm:w-8/12 ",children:[e.jsx("h2",{className:"my-5 text-2xl ",children:s.title}),e.jsx("p",{className:" text-gray-400",children:s.description}),e.jsx("span",{className:"my-2 ",children:s.category.name}),e.jsx(g,{product:s,addToCart:l})]})]}),e.jsx(w,{product:s})]})})}export{D as default};
