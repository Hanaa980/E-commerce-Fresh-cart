import{b as u,r,j as e,a as x,c as p,H as h,G as j}from"./index-BK07ERhG.js";import{P as g,W as w,B as y}from"./ProductItem-CgfVgv8I.js";import{S as v}from"./index-RW74Bnmc.js";import"./ClipLoader-BdbS125r.js";function m(a,l,c){return a.filter(t=>t.category._id==l&&t._id!==c)}function N(){let{id:a,categoryId:l}=u();const[c,t]=r.useState([]),[o,d]=r.useState([]);function n(){x.get("https://ecommerce.routemisr.com/api/v1/products").then(({data:s})=>{d(s.data);let i=m(s.data,l,a);t(i)}).catch(s=>{})}return r.useEffect(()=>{n()},[]),r.useEffect(()=>{let s=m(o,l,a);t(s)},[a]),e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl text-center font-bold ",children:"Related products "}),e.jsx("div",{className:"flex flex-wrap my-10 px-10 ",children:c.map(s=>e.jsx(g,{product:s},s.id))})]})}function E(){let{addToCart:a}=r.useContext(p);const[l,c]=r.useState(!0),[t,o]=r.useState({});let{id:d}=u(),n={dots:!0,infinite:!0,autoplay:!0,draggable:!0,autoplaySpeed:1e3,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1};function s(){x.get(`https://ecommerce.routemisr.com/api/v1/products/${d}`).then(({data:i})=>{o(i.data),c(!1)}).catch(i=>{c(!1)})}return r.useEffect(()=>{o({}),c(!0),window.scrollTo({top:0,behavior:"smooth"}),s()},[d]),e.jsxs(e.Fragment,{children:[e.jsx(h,{children:e.jsx("title",{children:" Product Details "})}),l?e.jsx("div",{className:"mt-[100px] flex w-fullh-lvh items-center justify-center",children:e.jsx(j,{color:"#0aad0a",size:50})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:" mt-[100px] w-8/12 md:w-8/12 m-auto md:flex-row flex-col  flex  gap-5 justify-center md:justify-between my-10 items-center ",children:[e.jsx("div",{className:"w-full px-5 md:w-5/12 border ",children:e.jsx(v,{...n,children:t.images.map((i,f)=>e.jsx("img",{src:i},f))})}),e.jsxs("div",{className:"w-full flex  flex-col md:w-7/12  ",children:[e.jsxs("div",{className:"flex justify-between items-center ",children:[e.jsx("h2",{className:"my-5 text-2xl ",children:t.title}),e.jsx(w,{product:t})]}),e.jsx("p",{className:" text-gray-400",children:t.description}),e.jsx("span",{className:"my-2 ",children:t.category.name}),e.jsx(y,{product:t,addToCart:a})]})]})}),e.jsx(N,{})]})}export{E as default};
