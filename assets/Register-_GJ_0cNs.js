import{r as t,u as g,t as x,j as r}from"./index-Ea1Gdlbw.js";import{c as b,a,b as h,u as p}from"./index.esm-CcwVWB0g.js";import{C as f}from"./ClipLoader-BpGnXuc8.js";function j(){const[o,d]=t.useState(null),[l,s]=t.useState(!1);let n=g(),{setToken:m}=t.useContext(x);const i={name:"",email:"",password:"",rePassword:"",phone:""},u=b().shape({name:a().min(3,"min lenght is 3").max(15,"max lenght is 15").required("required"),email:a().email("invalid email").required("required"),password:a().matches(new RegExp("^[A-Za-z0-9]{6,15}$"),"password must be strong between 6 and 15 chart").required("required"),rePassword:a().oneOf([h("password")],"repassword should be matched").required("required"),phone:a().matches(new RegExp("^01[0125][0-9]{8}$"),"invalid phone number").required("required")}),e=p({initialValues:i,validationSchema:u,onSubmit:async k=>{d(null),s(!0);try{localStorage.setItem("u-token",data.token),m(data.token),n("/"),s(!1)}catch(c){d(c.response.data.message),s(!1)}}});return r.jsxs("form",{onSubmit:e.handleSubmit,className:"w-6/12 m-auto mb-5 mt-[150px]",children:[r.jsx("h1",{className:"mb-5 ",children:"Register Now:"}),o?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:o}):" ",r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"NameInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your Name"}),r.jsx("input",{type:"text",id:"NameInput",name:"name",value:e.values.name,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.name&&e.touched.name?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.name}):" "]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"emailInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),r.jsx("input",{type:"email",id:"emailInput",name:"email",value:e.values.email,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.email&&e.touched.email?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.email}):" "]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"passwordInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your password"}),r.jsx("input",{type:"password",id:"passwordInput",name:"password",value:e.values.password,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.password&&e.touched.password?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.password}):" "]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"rePasswordInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your repassword"}),r.jsx("input",{type:"password",id:"rePasswordInput",name:"rePassword",value:e.values.rePassword,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.rePassword&&e.touched.rePassword?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.rePassword}):" "]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"phoneInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your phone"}),r.jsx("input",{type:"tel",id:"phoneInput",name:"phone",value:e.values.phone,onChange:e.handleChange,onBlur:e.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.phone&&e.touched.phone?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.phone}):" "]}),r.jsxs("button",{type:"submit",className:"text-white bg-main hover:bg-main focus:ring-4 focus:outline-none focus:ring-main font-medium rounded-lg text-sm block ms-auto  px-5 py-2.5 text-center dark:bg-main dark:hover:bg-main dark:focus:ring-main",children:[l?r.jsx(f,{size:20,color:"#ffffff"}):"submit"," "]})]})}export{j as default};
