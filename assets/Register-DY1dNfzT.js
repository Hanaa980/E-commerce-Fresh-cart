import{r as o,u as x,t as h,j as r,H as b,a as p}from"./index-Bc3rLSt0.js";import{c as f,a,b as w,u as k}from"./index.esm-BKEiZ2ap.js";import{C as y}from"./ClipLoader-Dztt8TiF.js";function I(){const[d,l]=o.useState(null),[n,t]=o.useState(!1);let m=x(),{setToken:i}=o.useContext(h);const u={name:"",email:"",password:"",rePassword:"",phone:""},c=f().shape({name:a().min(3,"min lenght is 3").max(15,"max lenght is 15").required("required"),email:a().email("invalid email").required("required"),password:a().matches(new RegExp("^[A-Za-z0-9]{6,15}$"),"password must be strong between 6 and 15 chart").required("required"),rePassword:a().oneOf([w("password")],"repassword should be matched").required("required"),phone:a().matches(new RegExp("^01[0125][0-9]{8}$"),"invalid phone number").required("required")}),e=k({initialValues:u,validationSchema:c,onSubmit:async g=>{l(null),t(!0);try{let{data:s}=await p.post("https://ecommerce.routemisr.com/api/v1/auth/signup",g);localStorage.setItem("u-token",s.token),i(s.token),m("/"),t(!1)}catch(s){l(s.response.data.message),t(!1)}}});return r.jsxs(r.Fragment,{children:[r.jsx(b,{children:r.jsx("title",{children:"Register "})}),r.jsxs("form",{onSubmit:e.handleSubmit,className:"w-6/12 m-auto mb-5 mt-[150px]",children:[r.jsx("h1",{className:"mb-5 ",children:"Register Now:"}),d?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:d}):" ",r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"NameInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your Name"}),r.jsx("input",{type:"text",id:"NameInput",name:"name",value:e.values.name,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.name&&e.touched.name?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.name}):" "]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"emailInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),r.jsx("input",{type:"email",id:"emailInput",name:"email",value:e.values.email,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.email&&e.touched.email?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.email}):" "]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"passwordInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your password"}),r.jsx("input",{type:"password",id:"passwordInput",name:"password",value:e.values.password,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.password&&e.touched.password?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.password}):" "]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"rePasswordInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your repassword"}),r.jsx("input",{type:"password",id:"rePasswordInput",name:"rePassword",value:e.values.rePassword,onBlur:e.handleBlur,onChange:e.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.rePassword&&e.touched.rePassword?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.rePassword}):" "]}),r.jsxs("div",{className:"mb-5",children:[r.jsx("label",{htmlFor:"phoneInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your phone"}),r.jsx("input",{type:"tel",id:"phoneInput",name:"phone",value:e.values.phone,onChange:e.handleChange,onBlur:e.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),e.errors.phone&&e.touched.phone?r.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:e.errors.phone}):" "]}),r.jsx("button",{type:"submit",className:"text-white bg-main hover:bg-main focus:ring-4 focus:outline-none focus:ring-main font-medium rounded-lg text-sm block ms-auto  px-5 py-2.5 text-center dark:bg-main dark:hover:bg-main dark:focus:ring-main",children:n?r.jsx(y,{size:20,color:"#ffffff"}):"submit"})]})]})}export{I as default};
