import{r as a,b as p,O as y,c as f,u as j,j as e,H as k}from"./index-C48nrgT0.js";import{c as v,a as s,u as N}from"./index.esm-0S2wg1vn.js";function O(){const[n,c]=a.useState();let{cartId:l}=p(),{cacheOrder:m,onlineOrder:u}=a.useContext(y),{setNumOfItems:d,setCartDetails:i}=a.useContext(f),h=j();function o(t){c(t.target.value)}const x={details:"",phone:"",city:""},g=v().shape({details:s().required("required"),phone:s().matches(new RegExp("^01[0125][0-9]{8}$"),"invalid phone number").required("required"),city:s().required("required")});async function b(t){n=="cache"?(await m(l,t),d(0),i(null),h("/allorders")):n=="online"&&(await u(l,t),d(0),i(null))}const r=N({initialValues:x,validationSchema:g,onSubmit:b});return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsx("title",{children:" Check out"})}),e.jsxs("form",{onSubmit:r.handleSubmit,className:"mt-[100px] w-6/12 m-auto mb-5",children:[e.jsx("h1",{className:"mb-5 ",children:"Checkout form"}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"addressInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your details"}),e.jsx("input",{type:"text",id:"addressInput",name:"details",value:r.values.details,onBlur:r.handleBlur,onChange:r.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),r.errors.details&&r.touched.details?e.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:r.errors.details}):" "]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"phoneInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your phone"}),e.jsx("input",{type:"tel",id:"phoneInput",name:"phone",value:r.values.phone,onChange:r.handleChange,onBlur:r.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),r.errors.phone&&r.touched.phone?e.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:r.errors.phone}):" "]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"cityInput",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your city"}),e.jsx("input",{type:"text",id:"cityInput",name:"city",value:r.values.city,onBlur:r.handleBlur,onChange:r.handleChange,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-main focus:border-main block w-full p-2.5"}),r.errors.city&&r.touched.city?e.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400",role:"alert",children:r.errors.city}):" "]}),e.jsxs("div",{className:"mb-3  text-lg",children:[e.jsx("input",{onChange:o,className:"mx-1",type:"radio",value:"cache",id:"cache",name:"orderType"}),e.jsx("label",{htmlFor:"cache",children:"Cach"})]}),e.jsxs("div",{className:"text-lg",children:[e.jsx("input",{onChange:o,className:"mx-1","aria-selected":"true",type:"radio",value:"online",id:"online",name:"orderType"}),e.jsx("label",{htmlFor:"online",children:"Online"})]}),e.jsx("button",{type:"submit",className:"text-white bg-main hover:bg-main focus:ring-4 focus:outline-none focus:ring-main font-medium rounded-lg text-sm block ms-auto  px-5 py-2.5 text-center dark:bg-main dark:hover:bg-main dark:focus:ring-main",children:"submit"})]})]})}export{O as default};
