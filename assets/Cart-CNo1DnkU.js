import{r as a,t as g,c as h,j as e,L as j,G as u}from"./index-Ea1Gdlbw.js";function y(){var i,l,n;let{token:c}=a.useContext(g),{cartDetails:t,updateCountToCart:s,removeItemFromCart:x,getCart:d,clearCart:o}=a.useContext(h);a.useEffect(()=>{c&&d()},[]);async function m(r){await x(r),await d()}return e.jsx(e.Fragment,{children:t?e.jsx("div",{className:"p-4 flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"w-full max-w-5xl",children:((i=t==null?void 0:t.data)==null?void 0:i.products.length)===0?e.jsx("div",{className:"flex justify-center items-center h-[65vh]",children:e.jsx("h2",{children:"Shop Now ***"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-[65px] my-10 relative shadow-md sm:rounded-lg",children:[e.jsxs("div",{className:"hidden md:grid grid-cols-2 sm:grid-cols-5 gap-4 text-gray-500 dark:text-gray-400 p-4 bg-gray-50 dark:bg-gray-700 text-xs font-semibold uppercase",children:[e.jsx("span",{children:"Image"}),e.jsx("span",{className:"hidden sm:block",children:"Product"}),e.jsx("span",{children:"Qty"}),e.jsx("span",{children:"Price"}),e.jsx("span",{children:"Action"})]}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:(l=t==null?void 0:t.data)==null?void 0:l.products.map(r=>e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4 items-center p-4 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("div",{children:e.jsx("img",{src:r.product.imageCover,className:"w-16 md:w-32 max-w-full max-h-full",alt:r.product.title})}),e.jsx("div",{className:"hidden sm:block font-semibold text-gray-900 dark:text-white",children:r.product.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>s(r.product.id,r.count-1),className:"p-1 text-gray-500 bg-red-700 border border-gray-300 rounded-full hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400",children:"-"}),e.jsx("span",{children:r.count}),e.jsx("button",{onClick:()=>s(r.product.id,r.count+1),className:"p-1 text-gray-500 bg-white border border-gray-300 rounded-full hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400",children:"+"})]}),e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:r.price*r.count}),e.jsx("div",{children:e.jsx("button",{onClick:()=>m(r.product.id),className:"text-red-600 dark:text-red-500 hover:underline",children:"Remove"})})]},r.product.id))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-gray-50 dark:bg-gray-700 p-4 text-gray-700 dark:text-gray-400 text-xs font-semibold uppercase",children:[e.jsxs("span",{className:"text-2xl",children:["Total Cart Price: ",(n=t==null?void 0:t.data)==null?void 0:n.totalCartPrice]}),e.jsxs("button",{onClick:o,className:"btn bg-red-600 text-white p-2 rounded-md mt-2 sm:mt-0",children:["Clear All Cart ",e.jsx("i",{className:"fa-solid fa-trash ml-2"})]})]}),e.jsx("div",{className:"flex flex-col w-full sm:w-[90%] mx-auto mt-4",children:e.jsx(j,{to:`/checkout/${t.cartId}`,className:"btn bg-main p-4 rounded-md text-white text-center",children:"Check out"})})]})})}):e.jsx("div",{className:" mt-[100px] flex justify-center items-center",children:e.jsx(u,{color:"#0aad0a",size:50})})})}export{y as default};
