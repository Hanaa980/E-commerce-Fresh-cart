import{r as a,j as t,G as P,a as w}from"./index-hCEOjRPY.js";import{P as h}from"./ProductItem-BowmDCM-.js";function N({count:l}){const[f,i]=a.useState(!0),[s,m]=a.useState([]),[n,x]=a.useState(""),[d,u]=a.useState([]),[o,p]=a.useState([]);function j(e){x(e);let r=s==null?void 0:s.filter(c=>c.title.split(" ").splice(0,2).join(" ").toLocaleLowerCase().startsWith(e.toLocaleLowerCase()));u(r)}function g(){w.get("https://ecommerce.routemisr.com/api/v1/products").then(({data:e})=>{m(e.data),u(e.data),i(!1)}).catch(e=>{i(!1)})}a.useEffect(()=>{g()},[]),a.useEffect(()=>{if(s.length&&o.length===0){const e=[...s];for(let r=e.length-1;r>0;r--){const c=Math.floor(Math.random()*(r+1));[e[r],e[c]]=[e[c],e[r]]}p(e)}},[s,o.length]);const y=l?o.slice(0,l):s;return t.jsxs("div",{className:"mt-[100px]",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mx-auto my-10 p-2 border-b-2 w-[240px] text-center",children:"Our Products"}),t.jsx("div",{className:"search flex justify-center  my-16  ",children:t.jsx("input",{type:"search",placeholder:"search...",value:n,onChange:e=>j(e.target.value),className:"w-1/2 search-input border-gray-400  shadow-lg  rounded-xl focus:border-none focus:ring-lime-400 ring-0 "})}),f?t.jsx("div",{className:" flex w-full h-lvh items-center justify-center",children:t.jsx(P,{color:"#0aad0a",size:50})}):t.jsx("div",{className:"flex justify-center md:justify-start  h-auto flex-wrap gap-y-10 sm:px-10  sm:p-7 p-3",children:n?!d.length==0?d.map(e=>t.jsx(h,{product:e},e.id)):t.jsx("div",{className:"flex justify-center  w-full items-center h-min ",children:t.jsx("p",{children:"No items starts with this letter"})}):y.map(e=>t.jsx(h,{product:e},e.id))})]})}export{N as R};
